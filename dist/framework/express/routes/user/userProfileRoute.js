"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const userRepo_1 = __importDefault(require("../../../../interface_adapters/repositories/userRepo"));
const userProfileInteractor_1 = __importDefault(require("../../../../usecases/user/userProfileInteractor"));
const userProfileController_1 = __importDefault(require("../../../../interface_adapters/controllers/user/userProfileController"));
const cloudinary_1 = __importDefault(require("../../../../framework/services/cloudinary"));
const multer_1 = __importDefault(require("../../../../framework/services/multer"));
const ChatRepo_1 = __importDefault(require("../../../../interface_adapters/repositories/common/ChatRepo"));
const chatInteractor_1 = __importDefault(require("../../../../usecases/common/chatInteractor"));
const userprofileRouter = express_1.default.Router();
const respository = new userRepo_1.default();
const interactor = new userProfileInteractor_1.default(respository);
const cloudinary = new cloudinary_1.default();
const chatrepo = new ChatRepo_1.default();
const chatinteractor = new chatInteractor_1.default(chatrepo);
const userProfileController = new userProfileController_1.default(interactor, cloudinary, chatinteractor);
userprofileRouter.patch("/updateData/:id", userProfileController.updateData.bind(userProfileController));
userprofileRouter.patch("/updateImage", multer_1.default.single("files"), userProfileController.addOrChangePhoto.bind(userProfileController));
userprofileRouter.get("/getChatId/:providerId/:userId", userProfileController.getChatId.bind(userProfileController));
userprofileRouter.post("/getchatofOneToOne/:chatId/:whoWantsData", userProfileController.getChatOfOneToOne.bind(userProfileController));
userprofileRouter.get("/getchat/:whom/:id", userProfileController.fetchChat.bind(userProfileController));
userprofileRouter.post("/newmessage", userProfileController.addMessage.bind(userProfileController));
userprofileRouter.get("/notificationUpdater/:id", userProfileController.notificationCountUpdater.bind(userProfileController));
userprofileRouter.get("/notificationGetter/:id", userProfileController.notificationGetter.bind(userProfileController));
userprofileRouter.post("/createReport", userProfileController.createReport.bind(userProfileController));
userprofileRouter.get("/getreport/:id", userProfileController.getReports.bind(userProfileController));
exports.default = userprofileRouter;
